{"version":3,"sources":["../../../../app/trips/%5Bslug%5D/page.tsx"],"sourcesContent":["import { notFound } from 'next/navigation';\nimport { getAllContent, getContentBySlug, TripFrontmatter } from '@/lib/mdx/mdx';\nimport { formatDate } from '@/lib/utils';\nimport { compileMDX } from 'next-mdx-remote/rsc';\nimport rehypeHighlight from 'rehype-highlight';\nimport rehypeSlug from 'rehype-slug';\nimport rehypeAutolinkHeadings from 'rehype-autolink-headings';\nimport remarkGfm from 'remark-gfm';\nimport Link from 'next/link';\n\nexport async function generateStaticParams() {\n  const trips = await getAllContent<TripFrontmatter>('trips');\n  return trips.map((trip) => ({\n    slug: trip.slug,\n  }));\n}\n\nexport async function generateMetadata({ params }: { params: Promise<{ slug: string }> }) {\n  const { slug } = await params;\n  try {\n    const { frontmatter } = await getContentBySlug<TripFrontmatter>('trips', slug);\n    return {\n      title: frontmatter.title,\n      description: frontmatter.summary,\n    };\n  } catch {\n    return {};\n  }\n}\n\nexport default async function TripPage({ params }: { params: Promise<{ slug: string }> }) {\n  const { slug } = await params;\n  \n  try {\n    const { frontmatter, content, readingTime } = await getContentBySlug<TripFrontmatter>('trips', slug);\n\n    const { content: mdxContent } = await compileMDX({\n      source: content,\n      options: {\n        parseFrontmatter: false,\n        mdxOptions: {\n          remarkPlugins: [remarkGfm],\n          rehypePlugins: [\n            rehypeHighlight,\n            rehypeSlug,\n            [\n              rehypeAutolinkHeadings,\n              {\n                behavior: 'wrap',\n              },\n            ],\n          ],\n        },\n      },\n    });\n\n    return (\n      <article className=\"max-w-4xl mx-auto\">\n        <header className=\"mb-8\">\n          <h1 className=\"text-4xl font-bold mb-4\">{frontmatter.title}</h1>\n          \n          <div className=\"flex flex-wrap items-center gap-4 text-gray-600 dark:text-gray-400 mb-4\">\n            <time dateTime={frontmatter.dateRange.start}>\n              {formatDate(frontmatter.dateRange.start)} - {formatDate(frontmatter.dateRange.end)}\n            </time>\n            <span>•</span>\n            <span>{frontmatter.location}</span>\n            <span>•</span>\n            <span>{readingTime}</span>\n          </div>\n\n          {(frontmatter.distanceKm || frontmatter.elevationGainM || frontmatter.difficulty) && (\n            <div className=\"flex flex-wrap gap-4 mb-4 text-sm\">\n              {frontmatter.distanceKm && (\n                <div className=\"px-3 py-1 bg-blue-100 dark:bg-blue-900 rounded\">\n                  Distance: {frontmatter.distanceKm} km\n                </div>\n              )}\n              {frontmatter.elevationGainM && (\n                <div className=\"px-3 py-1 bg-green-100 dark:bg-green-900 rounded\">\n                  Elevation: {frontmatter.elevationGainM} m\n                </div>\n              )}\n              {frontmatter.difficulty && (\n                <div className=\"px-3 py-1 bg-orange-100 dark:bg-orange-900 rounded\">\n                  {frontmatter.difficulty}\n                </div>\n              )}\n            </div>\n          )}\n\n          {frontmatter.tags && frontmatter.tags.length > 0 && (\n            <div className=\"flex flex-wrap gap-2\">\n              {frontmatter.tags.map((tag) => (\n                <Link\n                  key={tag}\n                  href={`/tags/${tag}`}\n                  className=\"text-sm px-3 py-1 bg-gray-100 dark:bg-gray-800 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  {tag}\n                </Link>\n              ))}\n            </div>\n          )}\n        </header>\n\n        {/* Map placeholder - will be added in trip features task */}\n        {frontmatter.coords && (\n          <div className=\"mb-8 aspect-video bg-gray-200 dark:bg-gray-800 rounded-lg flex items-center justify-center\">\n            <p className=\"text-gray-500 dark:text-gray-400\">\n              Map component will be added here\n            </p>\n          </div>\n        )}\n\n        <div className=\"prose prose-lg dark:prose-invert max-w-none\">\n          {mdxContent}\n        </div>\n      </article>\n    );\n  } catch (error) {\n    notFound();\n  }\n}\n"],"names":[],"mappings":"wlBAAA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,kBAEO,eAAe,IAEpB,MAAO,CADO,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,EAAkB,QAAA,EACtC,GAAG,CAAC,AAAC,IAAU,CAC1B,EADyB,GACnB,EAAK,IAAI,CACjB,CAAC,CACH,CAEO,eAAe,EAAiB,QAAE,CAAM,CAAyC,EACtF,GAAM,MAAE,CAAI,CAAE,CAAG,MAAM,EACvB,GAAI,CACF,GAAM,aAAE,CAAW,CAAE,CAAG,MAAM,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAkB,QAAS,GACzE,MAAO,CACL,MAAO,EAAY,KAAK,CACxB,YAAa,EAAY,OAAO,AAClC,CACF,CAAE,KAAM,CACN,MAAO,CAAC,CACV,CACF,CAEe,eAAe,EAAS,QAAE,CAAM,CAAyC,EACtF,GAAM,MAAE,CAAI,CAAE,CAAG,MAAM,EAEvB,GAAI,CACF,GAAM,aAAE,CAAW,SAAE,CAAO,aAAE,CAAW,CAAE,CAAG,MAAM,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAkB,QAAS,GAEzF,CAAE,QAAS,CAAU,CAAE,CAAG,MAAM,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,CAC/C,OAAQ,EACR,QAAS,CACP,kBAAkB,EAClB,WAAY,CACV,cAAe,CAAC,EAAA,OAAS,CAAC,CAC1B,cAAe,CACb,EAAA,OAAe,CACf,EAAA,OAAU,CACV,CACE,EAAA,OAAsB,CACtB,CACE,SAAU,MACZ,EACD,CACF,AACH,CACF,CACF,GAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,8BACjB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAU,iBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA2B,EAAY,KAAK,GAE1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oFACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAY,SAAS,CAAC,KAAK,WACxC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAY,SAAS,CAAC,KAAK,EAAE,MAAI,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAY,SAAS,CAAC,GAAG,KAEnF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,MACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAY,QAAQ,GAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,MACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,OAGR,CAAC,EAAY,UAAU,EAAI,EAAY,cAAc,EAAI,EAAY,UAAA,AAAU,GAC9E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACZ,EAAY,UAAU,EACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2DAAiD,aACnD,EAAY,UAAU,CAAC,SAGrC,EAAY,cAAc,EACzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6DAAmD,cACpD,EAAY,cAAc,CAAC,QAG1C,EAAY,UAAU,EACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8DACZ,EAAY,UAAU,MAM9B,EAAY,IAAI,EAAI,EAAY,IAAI,CAAC,MAAM,CAAG,GAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,EAAY,IAAI,CAAC,GAAG,CAAC,AAAC,GACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAEH,KAAM,CAAC,MAAM,EAAE,EAAA,CAAK,CACpB,UAAU,6HAET,GAJI,SAYd,EAAY,MAAM,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sGACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAmC,uCAMpD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDACZ,MAIT,CAAE,MAAO,EAAO,CACd,CAAA,EAAA,EAAA,QAAA,AAAQ,GACV,CACF"}