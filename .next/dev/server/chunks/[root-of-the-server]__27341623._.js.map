{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/pujith22/Projects/pujith-tech-and-thought/lib/mdx/mdx.ts"],"sourcesContent":["import fs from 'fs';\nimport path from 'path';\nimport matter from 'gray-matter';\nimport readingTime from 'reading-time';\nimport { compileMDX } from 'next-mdx-remote/rsc';\nimport rehypeHighlight from 'rehype-highlight';\nimport rehypeSlug from 'rehype-slug';\nimport rehypeAutolinkHeadings from 'rehype-autolink-headings';\nimport remarkGfm from 'remark-gfm';\n\nexport interface PostFrontmatter {\n  title: string;\n  slug: string;\n  date: string;\n  updated?: string;\n  summary: string;\n  tags: string[];\n  categories?: string[];\n  coverImage?: string;\n  canonical?: string;\n  draft?: boolean;\n  seoTitle?: string;\n  seoDescription?: string;\n  series?: string;\n  seriesOrder?: number;\n}\n\nexport interface TripFrontmatter {\n  title: string;\n  slug: string;\n  dateRange: {\n    start: string;\n    end: string;\n  };\n  location: string;\n  region?: string;\n  summary: string;\n  coverImage?: string;\n  mapGPX?: string;\n  coords?: {\n    lat: number;\n    lng: number;\n  };\n  gearList?: string[];\n  difficulty?: string;\n  distanceKm?: number;\n  elevationGainM?: number;\n  photos?: string[];\n  tags: string[];\n  draft?: boolean;\n}\n\nexport interface Post {\n  slug: string;\n  frontmatter: PostFrontmatter;\n  content: string;\n  readingTime: string;\n}\n\nexport interface Trip {\n  slug: string;\n  frontmatter: TripFrontmatter;\n  content: string;\n  readingTime: string;\n}\n\nconst CONTENT_DIR = path.join(process.cwd(), 'content');\n\nexport async function getContentBySlug<T extends PostFrontmatter | TripFrontmatter>(\n  type: 'posts' | 'trips' | 'projects',\n  slug: string\n): Promise<{ frontmatter: T; content: string; readingTime: string }> {\n  const filePath = path.join(CONTENT_DIR, type, `${slug}.mdx`);\n  const fileContent = fs.readFileSync(filePath, 'utf-8');\n  const { data, content } = matter(fileContent);\n  const stats = readingTime(content);\n\n  return {\n    frontmatter: data as T,\n    content,\n    readingTime: stats.text,\n  };\n}\n\nexport async function getAllContent<T extends PostFrontmatter | TripFrontmatter>(\n  type: 'posts' | 'trips' | 'projects',\n  includeDrafts = false\n): Promise<Array<{ slug: string; frontmatter: T; readingTime: string }>> {\n  const contentPath = path.join(CONTENT_DIR, type);\n  \n  if (!fs.existsSync(contentPath)) {\n    return [];\n  }\n\n  const files = fs.readdirSync(contentPath);\n  const content = files\n    .filter((file) => file.endsWith('.mdx'))\n    .map((file) => {\n      const slug = file.replace('.mdx', '');\n      const filePath = path.join(contentPath, file);\n      const fileContent = fs.readFileSync(filePath, 'utf-8');\n      const { data, content } = matter(fileContent);\n      const stats = readingTime(content);\n\n      return {\n        slug,\n        frontmatter: data as T,\n        readingTime: stats.text,\n      };\n    })\n    .filter((item) => includeDrafts || !item.frontmatter.draft);\n\n  return content;\n}\n\nexport async function compileMDXContent(source: string) {\n  return await compileMDX({\n    source,\n    options: {\n      parseFrontmatter: true,\n      mdxOptions: {\n        remarkPlugins: [remarkGfm],\n        rehypePlugins: [\n          rehypeHighlight,\n          rehypeSlug,\n          [\n            rehypeAutolinkHeadings,\n            {\n              behavior: 'wrap',\n              properties: {\n                className: ['anchor'],\n              },\n            },\n          ],\n        ],\n      },\n    },\n  });\n}\n\nexport function getAllTags(type: 'posts' | 'trips' | 'projects'): string[] {\n  const contentPath = path.join(CONTENT_DIR, type);\n  \n  if (!fs.existsSync(contentPath)) {\n    return [];\n  }\n\n  const files = fs.readdirSync(contentPath);\n  const tags = new Set<string>();\n\n  files\n    .filter((file) => file.endsWith('.mdx'))\n    .forEach((file) => {\n      const filePath = path.join(contentPath, file);\n      const fileContent = fs.readFileSync(filePath, 'utf-8');\n      const { data } = matter(fileContent);\n\n      if (data.tags && Array.isArray(data.tags)) {\n        data.tags.forEach((tag: string) => tags.add(tag));\n      }\n    });\n\n  return Array.from(tags).sort();\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AA0DA,MAAM,cAAc,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAEtC,eAAe,iBACpB,IAAoC,EACpC,IAAY;IAEZ,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,aAAa,MAAM,GAAG,KAAK,IAAI,CAAC;IAC3D,MAAM,cAAc,wGAAE,CAAC,YAAY,CAAC,UAAU;IAC9C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,oJAAM,EAAC;IACjC,MAAM,QAAQ,IAAA,qJAAW,EAAC;IAE1B,OAAO;QACL,aAAa;QACb;QACA,aAAa,MAAM,IAAI;IACzB;AACF;AAEO,eAAe,cACpB,IAAoC,EACpC,gBAAgB,KAAK;IAErB,MAAM,cAAc,4GAAI,CAAC,IAAI,CAAC,aAAa;IAE3C,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,cAAc;QAC/B,OAAO,EAAE;IACX;IAEA,MAAM,QAAQ,wGAAE,CAAC,WAAW,CAAC;IAC7B,MAAM,UAAU,MACb,MAAM,CAAC,CAAC,OAAS,KAAK,QAAQ,CAAC,SAC/B,GAAG,CAAC,CAAC;QACJ,MAAM,OAAO,KAAK,OAAO,CAAC,QAAQ;QAClC,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,aAAa;QACxC,MAAM,cAAc,wGAAE,CAAC,YAAY,CAAC,UAAU;QAC9C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,oJAAM,EAAC;QACjC,MAAM,QAAQ,IAAA,qJAAW,EAAC;QAE1B,OAAO;YACL;YACA,aAAa;YACb,aAAa,MAAM,IAAI;QACzB;IACF,GACC,MAAM,CAAC,CAAC,OAAS,iBAAiB,CAAC,KAAK,WAAW,CAAC,KAAK;IAE5D,OAAO;AACT;AAEO,eAAe,kBAAkB,MAAc;IACpD,OAAO,MAAM,IAAA,sKAAU,EAAC;QACtB;QACA,SAAS;YACP,kBAAkB;YAClB,YAAY;gBACV,eAAe;oBAAC,0JAAS;iBAAC;gBAC1B,eAAe;oBACb,gKAAe;oBACf,2JAAU;oBACV;wBACE,2KAAsB;wBACtB;4BACE,UAAU;4BACV,YAAY;gCACV,WAAW;oCAAC;iCAAS;4BACvB;wBACF;qBACD;iBACF;YACH;QACF;IACF;AACF;AAEO,SAAS,WAAW,IAAoC;IAC7D,MAAM,cAAc,4GAAI,CAAC,IAAI,CAAC,aAAa;IAE3C,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,cAAc;QAC/B,OAAO,EAAE;IACX;IAEA,MAAM,QAAQ,wGAAE,CAAC,WAAW,CAAC;IAC7B,MAAM,OAAO,IAAI;IAEjB,MACG,MAAM,CAAC,CAAC,OAAS,KAAK,QAAQ,CAAC,SAC/B,OAAO,CAAC,CAAC;QACR,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,aAAa;QACxC,MAAM,cAAc,wGAAE,CAAC,YAAY,CAAC,UAAU;QAC9C,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,oJAAM,EAAC;QAExB,IAAI,KAAK,IAAI,IAAI,MAAM,OAAO,CAAC,KAAK,IAAI,GAAG;YACzC,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,MAAgB,KAAK,GAAG,CAAC;QAC9C;IACF;IAEF,OAAO,MAAM,IAAI,CAAC,MAAM,IAAI;AAC9B"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///Users/pujith22/Projects/pujith-tech-and-thought/app/rss.xml/route.ts"],"sourcesContent":["import { getAllContent, PostFrontmatter, TripFrontmatter } from '@/lib/mdx/mdx';\n\nconst SITE_URL = 'https://yoursite.com';\n\nexport async function GET() {\n  const posts = await getAllContent<PostFrontmatter>('posts');\n  const trips = await getAllContent<TripFrontmatter>('trips');\n\n  const allContent = [\n    ...posts.map(post => ({\n      title: post.frontmatter.title,\n      description: post.frontmatter.summary,\n      date: post.frontmatter.date,\n      url: `${SITE_URL}/posts/${post.slug}`,\n      type: 'post' as const,\n    })),\n    ...trips.map(trip => ({\n      title: trip.frontmatter.title,\n      description: trip.frontmatter.summary,\n      date: trip.frontmatter.dateRange.start,\n      url: `${SITE_URL}/trips/${trip.slug}`,\n      type: 'trip' as const,\n    })),\n  ].sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n\n  const rss = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<rss version=\"2.0\" xmlns:atom=\"http://www.w3.org/2005/Atom\">\n  <channel>\n    <title>Pujith - Tech, Science &amp; Expeditions</title>\n    <link>${SITE_URL}</link>\n    <description>Personal blog about technology, science, and expeditions</description>\n    <language>en</language>\n    <atom:link href=\"${SITE_URL}/rss.xml\" rel=\"self\" type=\"application/rss+xml\"/>\n    ${allContent\n      .map(\n        item => `\n    <item>\n      <title><![CDATA[${item.title}]]></title>\n      <link>${item.url}</link>\n      <description><![CDATA[${item.description}]]></description>\n      <pubDate>${new Date(item.date).toUTCString()}</pubDate>\n      <guid>${item.url}</guid>\n    </item>`\n      )\n      .join('')}\n  </channel>\n</rss>`;\n\n  return new Response(rss, {\n    headers: {\n      'Content-Type': 'application/xml',\n      'Cache-Control': 'public, s-maxage=3600, stale-while-revalidate',\n    },\n  });\n}\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM,WAAW;AAEV,eAAe;IACpB,MAAM,QAAQ,MAAM,IAAA,oIAAa,EAAkB;IACnD,MAAM,QAAQ,MAAM,IAAA,oIAAa,EAAkB;IAEnD,MAAM,aAAa;WACd,MAAM,GAAG,CAAC,CAAA,OAAQ,CAAC;gBACpB,OAAO,KAAK,WAAW,CAAC,KAAK;gBAC7B,aAAa,KAAK,WAAW,CAAC,OAAO;gBACrC,MAAM,KAAK,WAAW,CAAC,IAAI;gBAC3B,KAAK,GAAG,SAAS,OAAO,EAAE,KAAK,IAAI,EAAE;gBACrC,MAAM;YACR,CAAC;WACE,MAAM,GAAG,CAAC,CAAA,OAAQ,CAAC;gBACpB,OAAO,KAAK,WAAW,CAAC,KAAK;gBAC7B,aAAa,KAAK,WAAW,CAAC,OAAO;gBACrC,MAAM,KAAK,WAAW,CAAC,SAAS,CAAC,KAAK;gBACtC,KAAK,GAAG,SAAS,OAAO,EAAE,KAAK,IAAI,EAAE;gBACrC,MAAM;YACR,CAAC;KACF,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO;IAEtE,MAAM,MAAM,CAAC;;;;UAIL,EAAE,SAAS;;;qBAGA,EAAE,SAAS;IAC5B,EAAE,WACC,GAAG,CACF,CAAA,OAAQ,CAAC;;sBAEK,EAAE,KAAK,KAAK,CAAC;YACvB,EAAE,KAAK,GAAG,CAAC;4BACK,EAAE,KAAK,WAAW,CAAC;eAChC,EAAE,IAAI,KAAK,KAAK,IAAI,EAAE,WAAW,GAAG;YACvC,EAAE,KAAK,GAAG,CAAC;WACZ,CAAC,EAEL,IAAI,CAAC,IAAI;;MAEV,CAAC;IAEL,OAAO,IAAI,SAAS,KAAK;QACvB,SAAS;YACP,gBAAgB;YAChB,iBAAiB;QACnB;IACF;AACF"}}]
}